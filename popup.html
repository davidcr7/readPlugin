<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <style>
    body {
      width: 300px;
      padding: 20px;
      font-family: Arial, sans-serif;
    }
    .container {
      display: flex;
      flex-direction: column;
      gap: 15px;
    }
    .control-group {
      display: flex;
      flex-direction: column;
      gap: 8px;
    }
    label {
      font-weight: bold;
      margin-bottom: 5px;
    }
    input, select {
      padding: 8px;
      border: 1px solid #ddd;
      border-radius: 4px;
    }
    button {
      padding: 10px;
      background-color: #4CAF50;
      color: white;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      font-weight: bold;
    }
    button:hover {
      background-color: #45a049;
    }
    button.stop {
      background-color: #f44336;
    }
    button.stop:hover {
      background-color: #da190b;
    }
    .status {
      padding: 10px;
      border-radius: 4px;
      text-align: center;
      font-weight: bold;
    }
    .status.running {
      background-color: #d4edda;
      color: #155724;
    }
    .status.stopped {
      background-color: #f8d7da;
      color: #721c24;
    }
    .smart-info {
      background-color: #e7f3ff;
      border: 1px solid #b3d9ff;
      border-radius: 4px;
      padding: 8px;
      font-size: 12px;
      color: #0066cc;
      margin-top: 5px;
    }
  </style>
</head>
<body>
  <div class="container">
    <h3>微信读书自动阅读器</h3>
    
    <div class="control-group">
      <label for="interval">基础翻页间隔 (秒):</label>
      <input type="number" id="interval" value="1" min="0.5" step="0.1">
    </div>

    <div class="control-group">
      <label for="smartIntervalMode">智能翻页模式:</label>
      <select id="smartIntervalMode">
        <option value="fixed">固定间隔</option>
        <option value="wordCount">基于字数</option>
        <option value="imageAnalysis">基于图片分析</option>
      </select>
    </div>

    <div id="smartIntervalSettings" class="control-group" style="display: none;">
      <div style="display: flex; gap: 10px; align-items: center; margin-bottom: 8px;">
        <label for="minInterval" style="min-width: 80px;">最小间隔:</label>
        <input type="number" id="minInterval" value="0.5" min="0.3" step="0.1" style="width: 60px;">
        <span>秒</span>
      </div>
      <div style="display: flex; gap: 10px; align-items: center;">
        <label for="maxInterval" style="min-width: 80px;">最大间隔:</label>
        <input type="number" id="maxInterval" value="10" min="1" step="1" style="width: 60px;">
        <span>秒</span>
      </div>
    </div>
    
    <div class="control-group">
      <label for="startMode">启动方式:</label>
      <select id="startMode">
        <option value="immediate">立即启动</option>
        <option value="scheduled">定时启动</option>
        <option value="both">立即+定时</option>
      </select>
    </div>

    <div class="control-group">
      <label for="scheduleType">定时类型:</label>
      <select id="scheduleType">
        <option value="duration">固定时长</option>
        <option value="daily">按天</option>
        <option value="weekly">按星期</option>
        <option value="monthly">按月</option>
      </select>
    </div>

    <div id="durationGroup" class="control-group">
      <label for="duration">自动阅读时长:</label>
      <select id="duration">
        <option value="0">无限时长</option>
        <option value="300">5分钟</option>
        <option value="600">10分钟</option>
        <option value="900">15分钟</option>
        <option value="1800">30分钟</option>
        <option value="3600">1小时</option>
        <option value="7200">2小时</option>
      </select>
    </div>

    <div id="dailyGroup" class="control-group" style="display: none;">
      <label>每天定时:</label>
      <div style="display: flex; gap: 10px; align-items: center;">
        <input type="time" id="dailyTime" value="19:00">
        <span>开始</span>
      </div>
      <div style="display: flex; gap: 10px; align-items: center; margin-top: 5px;">
        <input type="number" id="dailyDuration" value="60" min="1" max="480" style="width: 60px;">
        <span>分钟</span>
      </div>
    </div>

    <div id="weeklyGroup" class="control-group" style="display: none;">
      <label>每周定时:</label>
      <div style="margin-bottom: 8px;">
        <select id="weeklyDay" style="width: 100%;">
          <option value="0">星期日</option>
          <option value="1">星期一</option>
          <option value="2">星期二</option>
          <option value="3">星期三</option>
          <option value="4">星期四</option>
          <option value="5">星期五</option>
          <option value="6">星期六</option>
        </select>
      </div>
      <div style="display: flex; gap: 10px; align-items: center;">
        <input type="time" id="weeklyTime" value="19:00">
        <span>开始</span>
      </div>
      <div style="display: flex; gap: 10px; align-items: center; margin-top: 5px;">
        <input type="number" id="weeklyDuration" value="60" min="1" max="480" style="width: 60px;">
        <span>分钟</span>
      </div>
    </div>

    <div id="monthlyGroup" class="control-group" style="display: none;">
      <label>每月定时:</label>
      <div style="margin-bottom: 8px;">
        <select id="monthlyDay" style="width: 100%;">
          <option value="1">1日</option>
          <option value="2">2日</option>
          <option value="3">3日</option>
          <option value="4">4日</option>
          <option value="5">5日</option>
          <option value="6">6日</option>
          <option value="7">7日</option>
          <option value="8">8日</option>
          <option value="9">9日</option>
          <option value="10">10日</option>
          <option value="11">11日</option>
          <option value="12">12日</option>
          <option value="13">13日</option>
          <option value="14">14日</option>
          <option value="15">15日</option>
          <option value="16">16日</option>
          <option value="17">17日</option>
          <option value="18">18日</option>
          <option value="19">19日</option>
          <option value="20">20日</option>
          <option value="21">21日</option>
          <option value="22">22日</option>
          <option value="23">23日</option>
          <option value="24">24日</option>
          <option value="25">25日</option>
          <option value="26">26日</option>
          <option value="27">27日</option>
          <option value="28">28日</option>
          <option value="29">29日</option>
          <option value="30">30日</option>
          <option value="31">31日</option>
        </select>
      </div>
      <div style="display: flex; gap: 10px; align-items: center;">
        <input type="time" id="monthlyTime" value="19:00">
        <span>开始</span>
      </div>
      <div style="display: flex; gap: 10px; align-items: center; margin-top: 5px;">
        <input type="number" id="monthlyDuration" value="60" min="1" max="480" style="width: 60px;">
        <span>分钟</span>
      </div>
    </div>
    
    <div class="control-group">
      <button id="startBtn">开始自动阅读</button>
      <button id="stopBtn" class="stop">停止自动阅读</button>
      <button id="saveScheduleBtn" style="background-color: #007bff;">保存定时设置</button>
    </div>
    
    <div id="status" class="status stopped">已停止</div>
  </div>
  
  <script src="popup.js"></script>
</body>
</html>